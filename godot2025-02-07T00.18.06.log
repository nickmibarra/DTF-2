Godot Engine v4.2.1.stable.official.b09f793f5 - https://godotengine.org
Vulkan API 1.3.292 - Forward+ - Using Vulkan Device #0: AMD - AMD Radeon RX 7800 XT
 

Starting MovementComponent Tests

Testing Initialization
USER ERROR: CombatManager: No grid found in scene
   at: push_error (core/variant/variant_utility.cpp:1091)

Testing Basic Movement

Testing Path Following
Initial path: [(150, 150), (200, 200)]
Path size after follow_path: 2
Starting movement loop...
Distance to waypoint: 70.7106781005859, Threshold: 5
Current position: (100, 100)
Distance to waypoint: 60.7106781005859, Threshold: 5
Current position: (107.0711, 107.0711)
Distance to waypoint: 50.7106781005859, Threshold: 5
Current position: (114.1421, 114.1421)
Distance to waypoint: 40.7106781005859, Threshold: 5
Current position: (121.2132, 121.2132)
Distance to waypoint: 30.7106781005859, Threshold: 5
Current position: (128.2843, 128.2843)
Distance to waypoint: 20.7106666564941, Threshold: 5
Current position: (135.3553, 135.3553)
Distance to waypoint: 10.7106561660767, Threshold: 5
Current position: (142.4264, 142.4264)
Distance to waypoint: 0.71064573526382, Threshold: 5
Current position: (149.4975, 149.4975)
About to reach waypoint!
Path size immediately after reaching waypoint: 1
Loop completed. Iterations: 7
Final path size: 1
Initial path size: 2
Is moving: true
Current position: (149.4975, 149.4975)
Distance to first waypoint: 0.71064573526382
Distance to second waypoint: 71.4213256835938

Testing Movement Interruption

Testing Arrival Threshold
Target position: (110, 110)
Starting position: (100, 100)
Distance to target: 14.1421356201172, Threshold + 1: 6
Position before final check: (107.0711, 107.0711)
Distance to target: 4.14213562011719
Final position: (107.0711, 107.0711)
Final distance to target: 4.14213562011719
Is at target: true
Path completed signals: 1
MovementComponent Tests Complete
