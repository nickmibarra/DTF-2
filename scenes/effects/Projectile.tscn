[gd_scene load_steps=3 format=3]

[ext_resource type="Texture2D" path="res://resources/sprites/effects/projectile.tres" id="1"]

[sub_resource type="GDScript" id="1"]
script/source = "extends Node2D

var target: Node2D
var speed: float = 400.0
var damage: float = 0.0

func _process(delta):
    if not target or not target.is_inside_tree():
        queue_free()
        return
    
    var direction = (target.position - position).normalized()
    position += direction * speed * delta
    
    if position.distance_to(target.position) < 5:
        if target.has_method(\"take_damage\"):
            target.take_damage(damage)
        queue_free()

func init(start_pos: Vector2, end_target: Node2D, proj_damage: float):
    position = start_pos
    target = end_target
    damage = proj_damage
    
    # Point towards target
    look_at(target.position)"

[node name="Projectile" type="Node2D"]
script = SubResource("1")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1") 